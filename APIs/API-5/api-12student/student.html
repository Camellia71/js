<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>学生信息管理</title>
    <link rel="stylesheet" href="css/index.css" />
</head>

<body>
    <h1>新增学员</h1>
    <form class="info" autocomplete="off">
        姓名：<input type="text" class="uname" name="uname" />
        年龄：<input type="text" class="age" name="age" />
        性别:
        <select name="gender" class="gender">
            <option value="男">男</option>
            <option value="女">女</option>
        </select>
        薪资：<input type="text" class="salary" name="salary" />
        就业城市：<select name="city" class="city">
            <option value="北京">北京</option>
            <option value="上海">上海</option>
            <option value="广州">广州</option>
            <option value="深圳">深圳</option>
            <option value="曹县">曹县</option>
        </select>
        <button class="add">录入</button>
    </form>
    <div class="title">
        共有数据
        <span></span>
        条
    </div>
    <h1>就业榜</h1>
    <table>
        <thead>
            <tr>
                <th>学号</th>
                <th>姓名</th>
                <th>年龄</th>
                <th>性别</th>
                <th>薪资</th>
                <th>就业城市</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
    <script>
        // 参考数据
        const tbody = document.querySelector('tbody')
        const initData = [
            {
                stuId: 1001,
                uname: '欧阳霸天',
                age: 19,
                gender: '男',
                salary: '20000',
                city: '上海',
            }
        ]

        localStorage.setItem('data', JSON.stringify(initData))
        console.log('data')
        //渲染业务
        //1.先读取本地存储数据
        // 如果有数据就直接读取，要用JSON字符串
        let arr = JSON.parse(localStorage.getItem('data')) || []
        //这里使用逻辑运算符‘或’
        console.log(arr)

        //更新数据 使用map将其数据更新并返回新的数组，再使用join将其转化为字符串
        function render () {
            //map遍历数组
            let trArr = arr.map(function(ele) {
                return `
                    <tr>
                        <td>${ele.stuId}</td>
                        <td>${ele.uname}</td>
                        <td>${ele.age}</td>
                        <td>${ele.gender}</td>
                        <td>${ele.salary}</td>
                        <td>${ele.city}</td>
                        <td>
                        <a href="javascript:">删除</a>
                        </td>
                    </tr>
                `
            })
            console.log(trArr)
        }
        //使用join将其转化为字符串
        //放入tbody中
        tbody.innerHTML = trArr.join('')
        render()
        //显示数组长度在右上角

    </script>
</body>

</html>